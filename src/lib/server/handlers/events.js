const eventData = {
    0:{
        0: { // Task: Scout
            0: { // Stealth
                steps: {
                    setup: [
                    "Crept beneath moss-covered ridges. The camp was dimly lit, barely guarded.",
                    "Moved through thickets like shadows. Enemy banners hung low, untouched by wind.",
                    "Watched the firelight flicker on their armor. No sentries beyond the second ring."
                    ],
                    action: [
                    "Marked the guard routes with charcoal. One nearly spotted us, but we vanished.",
                    "Noted a strange ritual by their bonfire - perhaps superstition, perhaps worse.",
                    "Traced the path of their patrols with ash. One limped - wounded, perhaps vulnerable."
                    ],
                    result: [
                    "Returned unseen. The map is clearer now - they won`t know what went missing.",
                    "Learned the number of blades they field. More than expected. We shall need more gold.",
                    "Left silent signs for our main force. When war comes, we'll know where to strike."
                    ]
                }
            },
            1: { // Action
                steps: {
                    setup: [
                    "We approached at dusk, cloaks wet with blood and rain.",
                    "Storm clouds gathered as we readied the distraction play.",
                    "The first scout we encountered was arrogant - no longer."
                    ],
                    action: [
                    "Rushed a watchpost, steel first. Three down before they screamed.",
                    "Set the outlying tents ablaze. Panic spread faster than fire.",
                    "Engaged their outriders in a fast skirmish - blades met bark and bone."
                    ],
                    result: [
                    "They`ll find their watchpoint empty and ash-stained.",
                    "Left behind signs of many where few had gone. Let them fear shadows.",
                    "One survived to tell the tale. We let him run - half-bleeding, half-mad."
                    ]
                }
            },
            2: { // Situational
                steps: {
                    setup: [
                    "Joined a wandering trader`s caravan to reach the village unseen.",
                    "Offered old maps and salted pork at the outpost gates - they let us in.",
                    "The locals believed us wandering sellswords. We played the part."
                    ],
                    action: [
                    "Spoke with a young drunk who mistook us for kin - he revealed their patrol cycles.",
                    "Joined their feast, drank sour wine, and listened for truths between lies.",
                    "Traded `rumors` for real intelligence. They thought it jest - we knew better."
                    ],
                    result: [
                    "Their leader shook our hand and wished us safe travels. Fool.",
                    "We now know which roads are watched and which are forgotten.",
                    "The drunk is likely dead by now. His secrets live on in our hands."
                    ]
                }
            }
        },

        1: { // Task: Loot
            0: { // Stealth
                steps: {
                    setup: [
                    "Slipped past half-blind guards while they drank by the fire.",
                    "Used the fog as cover. Even the wolves didn`t smell us.",
                    "Entered through a broken wall none seemed to remember."
                    ],
                    action: [
                    "Lifted a ceremonial dagger from beneath the high priest`s pillow.",
                    "Found a rusted lockbox under a floorboard - heavy with coin.",
                    "Took only what would not be missed - for now."
                    ],
                    result: [
                    "Gone before the cock crowed. No alarms. No proof.",
                    "Left behind an empty chest and a whisper of curses.",
                    "The relic is ours now. The shrine still stands - for now."
                    ]
                }
            },
            1: { // Action
                steps: {
                    setup: [
                    "Arrived at midnight with torches snuffed and weapons drawn.",
                    "Riders struck fast, hooves like thunder in the mud.",
                    "Our blades gleamed in their firelight - just long enough."
                    ],
                    action: [
                    "Sacked the trade post in a blur. Their guards barely stood.",
                    "Took coin, steel, and dried meats. Left nothing but soot.",
                    "Cut down a caravan guard and looted his purse mid-battle."
                    ],
                    result: [
                    "They`ll bury their dead. We`ll count silver.",
                    "Slowed only by what we could carry - and we carried much.",
                    "Their dogs still bark, but we`re long gone."
                    ]
                }
            },
            2: { // Situational
                steps: {
                    setup: [
                    "Arrived posing as mercantile escort from a fallen duchy.",
                    "Spoke honeyed words to their steward - old, eager to please.",
                    "The guards were lax - bored with peace."
                    ],
                    action: [
                    "Offered to `protect` a relic from imaginary thieves. They agreed.",
                    "Bought a sacred tome for two forged coins and a grin.",
                    "Let them brag about their hidden vault. We smiled and listened."
                    ],
                    result: [
                    "Departed richer and thanked - they won`t realize what`s gone for days.",
                    "One guard looked suspicious. He`s likely dead now, or bribed.",
                    "They gifted us bread and blessings. We stole far more."
                    ]
                }
            }
        },

        2: { // Task: Foster Ties
            0: { // Stealth
                steps: {
                    setup: [
                    "Watched their chieftain`s hut from the treeline for two nights.",
                    "Moved unseen through their sacred grove - even the birds kept quiet.",
                    "Listened to prayer chants through the cracks in the shrine wall."
                    ],
                    action: [
                    "Left offerings by their stone idols - their kind, their symbols.",
                    "Placed a talisman in the elder`s path. He took it and smiled.",
                    "Heard them speak of a forgotten pact. We made it sound new again."
                    ],
                    result: [
                    "A raven landed near us before we left. That is enough.",
                    "They`ll speak of unseen allies. That is our seed, sown.",
                    "Not all bonds need names. They feel ours nonetheless."
                    ]
                }
            },
            1: { // Action
                steps: {
                    setup: [
                    "Broke up a feud with sharp words and sharper steel.",
                    "Dragged two feuding brothers before the fire - made them see sense.",
                    "Interrupted a secret rite to prove our strength - and were not cast out."
                    ],
                    action: [
                    "Offered iron for peace. One accepted, the other followed.",
                    "Slew a rogue spirit beast threatening their cattle. They took it as a sign.",
                    "Faced their champion in single combat. We let him live."
                    ],
                    result: [
                    "Their banners flew beside ours at dusk - temporary, but real.",
                    "We are still outsiders, but no longer strangers.",
                    "They`ll remember our deeds more than our names - that is enough."
                    ]
                }
            },
            2: { // Situational
                steps: {
                    setup: [
                    "Met in a neutral glade, under stars neither side claimed.",
                    "Shared wine from a cracked bottle with their envoy. Bitter, but warm.",
                    "Sat in silence while their elders debated. Silence was louder than words."
                    ],
                    action: [
                    "Told a half-truth about a greater threat - they believed enough.",
                    "Recited an old pact none remembered. Now, they do.",
                    "Bound wounds, not with cloth, but shared pain. They saw that."
                    ],
                    result: [
                    "We parted with nods, not contracts - but that too is binding.",
                    "Nothing signed, yet something shifted. We feel it in the air.",
                    "Next time we return, they won`t draw blades first."
                    ]
                }
            }
        }
    }
};

//use template before expeditions in db are implemented
const expeditionTemplate = {
    id: undefined,
    location: undefined,
    overviewText: undefined,
    endTime: undefined,
    startTime: undefined,
    servantId: undefined,
    task: 1,
    scale: 0,
    approach: 1,
    status: 0,
}

const TASKS = ["Scout", "Loot", "Foster Ties"];
const APPROACHES = ["Stealth", "Action", "Situational"];

const scaleToSteps = {
    0: ["setup", "action", "result"], //the only one in template
    1: ["setup", "small_turn", "action", "result", "exit"],
    2: ["setup", "tension", "small_turn", "action", "result", "consequence", "exit"],
    3: ["setup", "tension", "turn", "action", "twist", "result", "aftermath", "exit"]
};


export const getEventsByExpeditionUUID = (expeditionUUID) => {
    //TODO: get expedition from db and define events based on expeditions
    //const expedition = getExpedition

    const steps = eventData[expeditionTemplate.scale][expeditionTemplate.task][expeditionTemplate.approach].steps;
    const stepKeys = scaleToSteps[expeditionTemplate.scale];
    const log = [];

    //This is an example for demo
    //
    for (const step of stepKeys) {
        const options = steps[step];
        if (!options || options.length === 0) continue;
        const chosen = options[Math.floor(Math.random() * options.length)];
        log.push(chosen);
    }
    return log
}
